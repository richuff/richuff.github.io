<!DOCTYPE html>
<html>
  <head>
     
    <meta charset="UTF-8">
    <title>Kotlin - Richu</title>
    <link rel="shortcut icon" href="/static/img/icon.png">
    <link rel="icon" href="/static/img/icon.png" sizes="192x192"/>
    
<link rel="stylesheet" href="/static/kico.css">
<link rel="stylesheet" href="/static/hingle.css">

    
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <meta name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1"/>
    <meta property="og:site_name" content="Richu">
    <meta property="og:title" content="Kotlin"/>
    
    <style>body:before{ content: ''; background-image: url(http://kycloud3.koyoo.cn/2025033176e99202503311036156636.jpg) }</style>
    
<meta name="generator" content="Hexo 7.3.0"></head>

  <body>
    <header>
    <div class="head-title">
        <h4>Richu</h4>
    </div>
    <div class="head-action">
        <div class="toggle-btn"></div>
        <div class="light-btn"></div>
        <div class="search-btn"></div>
    </div>
    <form class="head-search" method="post">
        <input type="text" name="s" placeholder="搜索什么？">
    </form>
    <nav class="head-menu">
        <a href="/">首页</a>
        <div class="has-child">
            <a>分类</a>
            <div class="sub-menu">
                <a class="category-link" href="/categories/Android/">Android</a><a class="category-link" href="/categories/Go/">Go</a><a class="category-link" href="/categories/Java/">Java</a><a class="category-link" href="/categories/QT/">QT</a><a class="category-link" href="/categories/Unity/">Unity</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><a class="category-link" href="/categories/%E8%BF%90%E7%BB%B4/">运维</a>
            </div>
        </div>
        
            <a href="/about">关于我</a>
        
    </nav>
</header>

    <main>
    <div class="wrap min">
        <section class="post-title">
            <h2>Kotlin</h2>
            <div class="post-meta">
                <time class="date">2024.12.02</time>
            
                <span class="category"><a class="category-link" href="/categories/Android/">Android</a></span>
            
            </div>
        </section>
        <article class="post-content">
          
            <p>Kotlin 是一门现代但已成熟的编程语言，旨在让开发人员更幸福快乐。 它简洁、安全、可与 Java 及其他语言互操作，并提供了多种方式在多个平台间复用代码，以实现高效编程。Kotlin 是一种在 Java 虚拟机上运行的静态类型编程语言，被称之为 Android 世界的Swift，由 JetBrains 设计开发并开源。<br>Kotlin 可以编译成Java字节码，也可以编译成 JavaScript，方便在没有 JVM 的设备上运行。<br>在Google I&#x2F;O 2017中，Google 宣布 Kotlin 成为 Android 官方开发语言。</p>
<h2 id="1-内置数据类型"><a href="#1-内置数据类型" class="headerlink" title="1.内置数据类型"></a>1.内置数据类型</h2><h3 id="1-基本类型"><a href="#1-基本类型" class="headerlink" title="1.基本类型"></a>1.基本类型</h3><blockquote>
<p>String 字符串</p>
<p>Char 字符</p>
<p>Boolean 布尔</p>
<p>Int 整型</p>
<p>Double 浮点数</p>
<p>List 集合</p>
<p>Set 无重复的元素集合</p>
<p>Map 键值对的集合</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> main&#123;</span></span><br><span class="line">	<span class="keyword">var</span> name:string = <span class="string">&quot;Array&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>val &#x3D;&#x3D;&#x3D;&gt; 不可改变相当于js的readonly</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> main&#123;</span></span><br><span class="line">	<span class="keyword">var</span> name:string = <span class="string">&quot;Array&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>const val&#x3D;&#x3D;&#x3D;&#x3D;&gt;编译时常量    修饰符const不能修饰局部</p>
<p>只能在函数之外定义</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">const val PI = 3.1415</span><br><span class="line">fun main&#123;</span><br><span class="line">	var name:string = &quot;Array&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-数字类型"><a href="#2-数字类型" class="headerlink" title="2.数字类型"></a>2.数字类型</h3><blockquote>
<p>Byte </p>
<p>Short 短整型</p>
<p>Int 整型</p>
<p>Long 长整型 可以用_表示，计数 100_000_000</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n1:<span class="built_in">Long</span> =<span class="number">10L</span></span><br><span class="line"><span class="keyword">var</span> n2:<span class="built_in">Long</span> =<span class="number">100_000_000</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>UByte</p>
<p>UShort</p>
<p>UInt</p>
<p>ULong</p>
<p>无符号 在后面加上u或U和长整型类似</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> n3:UInt = 123u</span><br><span class="line"><span class="keyword">var</span> n4:UInt = 123U</span><br><span class="line"><span class="keyword">var</span> n5:ULong = 123UL</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Float</p>
<p>Double</p>
<p>默认为Double类型，如果要使用float要加上f或者F</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> m1:<span class="built_in">Float</span> = <span class="number">1.12F</span></span><br><span class="line"><span class="keyword">var</span> m2:<span class="built_in">Double</span> = <span class="number">1.12</span></span><br><span class="line"><span class="keyword">var</span> m3:<span class="built_in">Float</span> = <span class="number">1.12f</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Boolean类型"><a href="#3-Boolean类型" class="headerlink" title="3.Boolean类型"></a>3.Boolean类型</h3><blockquote>
<p>0，false,null为假，其他为真</p>
<p>&amp;&amp; ||     !</p>
</blockquote>
<h3 id="4-字符类型"><a href="#4-字符类型" class="headerlink" title="4.字符类型"></a>4.字符类型</h3><blockquote>
<p>使用.code获取ascII码</p>
<p>\u转义成字符（unicode编码）</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> c1:<span class="built_in">Char</span> = <span class="string">&#x27;a&#x27;</span></span><br><span class="line">println(c1.code)</span><br><span class="line"></span><br><span class="line"><span class="keyword">val</span> c2:<span class="built_in">Char</span> =<span class="string">&#x27;\u2C77&#x27;</span></span><br><span class="line">println(c2)</span><br></pre></td></tr></table></figure>

<h3 id="5-字符串"><a href="#5-字符串" class="headerlink" title="5.字符串"></a>5.字符串</h3><blockquote>
<p>用三引号包括字符串&#x3D;&gt;原始字符串</p>
<p>.trimIndent()去掉空格</p>
<p>$变量名 格式化字符串</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> s2:String = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        aha</span></span><br><span class="line"><span class="string">        sjs</span></span><br><span class="line"><span class="string">        dld</span></span><br><span class="line"><span class="string">        kjl</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span>.trimIndent()</span><br><span class="line">println(s2)</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> s3:String = <span class="string">&quot;<span class="variable">$PI1</span> 圆&quot;</span></span><br><span class="line">println(s3)</span><br><span class="line"><span class="keyword">val</span> s3:String = <span class="string">&quot;<span class="subst">$&#123;PI1&#125;</span> 圆&quot;</span> <span class="comment">//可以用&#123;&#125;此时后面不用再加空格，&#123;&#125;里面也可以写表达式</span></span><br></pre></td></tr></table></figure>

<h3 id="6-运算符"><a href="#6-运算符" class="headerlink" title="6.运算符"></a>6.运算符</h3><p>与 and	或or 异或xor</p>
<p>shl 左移位 shr 右移位 ushr无符号右移位</p>
<h2 id="2-条件语句"><a href="#2-条件语句" class="headerlink" title="2.条件语句"></a>2.条件语句</h2><h3 id="1-when-类似-switch"><a href="#1-when-类似-switch" class="headerlink" title="1.when 类似 switch"></a>1.when 类似 switch</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">when</span> (c) &#123;</span><br><span class="line">    <span class="number">1</span> -&gt; &#123;</span><br><span class="line">        println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">2</span> -&gt; &#123;</span><br><span class="line">        println(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="number">3</span> -&gt; &#123;</span><br><span class="line">        println(<span class="string">&quot;3&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">        println(<span class="string">&quot;0&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-for循环"><a href="#2-for循环" class="headerlink" title="2.for循环"></a>2.for循环</h3><p>..区间运算符20..100相当于 20 &lt;&#x3D; a &lt;&#x3D; 100</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> Range1 = <span class="number">5.</span><span class="number">.10</span></span><br><span class="line"><span class="keyword">val</span> Range2 = <span class="number">5.</span><span class="number">.10</span></span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> Range1 step <span class="number">2</span>)&#123;<span class="comment">//一次+2</span></span><br><span class="line">    println(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">10</span> DownTo <span class="number">1</span>)&#123;<span class="comment">//从10到1</span></span><br><span class="line">    println(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="3-函数"><a href="#3-函数" class="headerlink" title="3.函数"></a>3.函数</h2><blockquote>
<p>函数可以嵌套使用即函数内部声明函数，在函数内部声明的函数只能在函数内部调用，并且可以使用嵌套该函数的函数体内的变量</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    outer()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">outer</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> value = <span class="number">10</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">inner</span><span class="params">()</span></span>&#123;</span><br><span class="line">        println(value)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">inner</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>message:String指定形参类型</p>
<p>():unit指定返回值类型 unit相当于void即无返回值（可以省略不写）</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(message:<span class="type">String</span>)</span></span>:<span class="built_in">Unit</span>&#123;</span><br><span class="line">    println(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>设置默认值</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test1</span><span class="params">(a:<span class="type">Int</span>=<span class="number">3</span>,b:<span class="type">Int</span>=<span class="number">6</span>)</span></span>:<span class="built_in">Int</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a+b</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//如果要指定第二个参数</span></span><br><span class="line">test1(b=<span class="number">9</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>简洁写法		 返回值为a+b</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test2</span><span class="params">(a:<span class="type">Int</span>,b:<span class="type">Int</span>)</span></span> = a+b</span><br></pre></td></tr></table></figure>

<blockquote>
<p>引用函数</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">val</span> test2 = ::test1</span><br><span class="line">    test2()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    println(<span class="string">&quot;hahha&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="4-变量作用域"><a href="#4-变量作用域" class="headerlink" title="4.变量作用域"></a>4.变量作用域</h2><p>1.get set</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> v:<span class="built_in">Int</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">get</span>() = field * <span class="number">100</span></span><br><span class="line">    <span class="keyword">set</span>(value) &#123;</span><br><span class="line">        println(<span class="string">&quot;赋值&quot;</span>)</span><br><span class="line">        field = <span class="number">12</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    println(v)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.常用库函数</p>
<blockquote>
<p>var value1 &#x3D; readln()</p>
<p>相当于Java的Scanner</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//n次方</span></span><br><span class="line">println(<span class="number">2.0</span>.pow(<span class="number">4</span>))</span><br><span class="line"><span class="comment">//绝对值</span></span><br><span class="line">println(abs(value2))</span><br><span class="line"><span class="comment">//最小值</span></span><br><span class="line">println(min(<span class="number">10</span>,<span class="number">20</span>))</span><br><span class="line"><span class="comment">//最大值</span></span><br><span class="line">println(max(<span class="number">10</span>,<span class="number">20</span>))</span><br><span class="line"><span class="comment">//求根</span></span><br><span class="line">println(sqrt(<span class="number">9.0</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//e</span></span><br><span class="line">println(Math.E)</span><br><span class="line"><span class="comment">//pai</span></span><br><span class="line">println(Math.PI)</span><br><span class="line"></span><br><span class="line">println(sin(<span class="number">0.5</span>*Math.PI))</span><br><span class="line">println(cos(<span class="number">0.5</span>*Math.PI))</span><br><span class="line">println(tan(Math.PI))</span><br><span class="line"></span><br><span class="line">println(asin(<span class="number">1.0</span>));</span><br><span class="line">println(acos(<span class="number">1.0</span>));</span><br><span class="line">println(atan(<span class="number">1.0</span>));</span><br></pre></td></tr></table></figure>

<h2 id="5-函数类型变量"><a href="#5-函数类型变量" class="headerlink" title="5.函数类型变量"></a>5.函数类型变量</h2><h3 id="1"><a href="#1" class="headerlink" title="1.()-&gt;"></a>1.()-&gt;</h3><p>1.()括号里为参数类型			-&gt;后为返回值类型</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> fun1:(<span class="built_in">Int</span>)-&gt;String = outer(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    <span class="keyword">val</span> name = fun1(<span class="number">10</span>)</span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">outer</span><span class="params">(name:<span class="type">String</span>)</span></span>:(<span class="built_in">Int</span>)-&gt;String&#123;</span><br><span class="line">    <span class="comment">//匿名函数</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="title">fun</span><span class="params">(number:<span class="type">Int</span>)</span></span>:String&#123;</span><br><span class="line">        <span class="keyword">return</span> number.toString()+<span class="string">&quot;个&quot;</span>+name</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.可以嵌套使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fun <span class="title function_">fu1</span>(<span class="attr">n1</span>:<span class="title class_">Int</span>,<span class="attr">n2</span>:<span class="title class_">Int</span>):((<span class="title class_">String</span>)-&gt;<span class="title class_">String</span>,<span class="title class_">String</span>) -&gt; <span class="title class_">String</span>&#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-lamda表达式"><a href="#2-lamda表达式" class="headerlink" title="2.lamda表达式"></a>2.lamda表达式</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//it代指第一个参数</span></span><br><span class="line"><span class="keyword">val</span> func1:(String)-&gt;<span class="built_in">Int</span> = &#123;</span><br><span class="line">    println(it)</span><br><span class="line">    <span class="number">10</span>     <span class="comment">//返回的值s</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> func:(String,String)-&gt;<span class="built_in">Int</span> = &#123; a,b -&gt;</span><br><span class="line">    println(a)</span><br><span class="line">    println(b)</span><br><span class="line">    <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line">println(func(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>))</span><br></pre></td></tr></table></figure>

<p>尾随lamda</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    test&#123;</span><br><span class="line">        println(it)</span><br><span class="line">        <span class="number">10</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(func:(<span class="type">String</span>)-&gt;<span class="type">Int</span>)</span></span>&#123;</span><br><span class="line">    println(func(<span class="string">&quot;Hello&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>小实验</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> v1 = fu1(<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line"><span class="keyword">val</span> f1 = v1(<span class="string">&quot;Hello&quot;</span>)&#123;</span><br><span class="line">    <span class="string">&quot;1&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">println(f1)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">fu1</span><span class="params">(n1:<span class="type">Int</span>,n2:<span class="type">Int</span>)</span></span>:(String,(String)-&gt;String) -&gt; String&#123;</span><br><span class="line">    println(n1+n2)</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="title">fun</span><span class="params">(s2:<span class="type">String</span>, fun2:(<span class="type">String</span>)-&gt;<span class="type">String</span>)</span></span>:String&#123;</span><br><span class="line">        <span class="keyword">return</span> fun2(<span class="string">&quot;1234&quot;</span>)+s2</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果函数调用的是尾随的lamda则标签名字就是函数的名字</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> fun2:(<span class="built_in">Int</span>) -&gt; <span class="built_in">Int</span> = <span class="symbol">mytest@</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (it &gt;<span class="number">10</span> ) <span class="keyword">return</span><span class="symbol">@mytest</span> <span class="number">10</span></span><br><span class="line">    <span class="number">20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-内联函数"><a href="#3-内联函数" class="headerlink" title="3.内联函数"></a>3.内联函数</h3><p>1.声明内联函数</p>
<blockquote>
<p>编译之后将函数原封不动加入到调用的位置</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="title">mytest</span><span class="params">()</span></span> = &#123; </span><br><span class="line">    println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>高阶函数使用lamda</p>
<p>内联高级函数的lamda参数可以直接写return不指定标签</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	mytest &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="comment">//内联高级函数的lamda参数可以直接写return不指定标签</span></span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;Hi&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="title">mytest</span><span class="params">(func: (<span class="type">String</span>) -&gt; <span class="type">Int</span>)</span></span>:<span class="built_in">Unit</span>&#123;</span><br><span class="line">    println(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    func(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在不需要内联的函数形参上添加noinline关键字，可以防止函数调用内联</p>
</blockquote>
<blockquote>
<p>标签可以指定为外部的函数名称</p>
</blockquote>
<h2 id="6-类和对象"><a href="#6-类和对象" class="headerlink" title="6.类和对象"></a>6.类和对象</h2><h3 id="1-类的创建"><a href="#1-类的创建" class="headerlink" title="1.类的创建"></a>1.类的创建</h3><blockquote>
<p>var 可改</p>
<p>val 不可改</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">constructor</span>(<span class="keyword">var</span> name:String,<span class="keyword">val</span> age:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果在类中定义，要赋值</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> name:String = <span class="string">&quot;Jack&quot;</span></span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span> = <span class="number">18</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>(name:String,age:<span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> name:String = name</span><br><span class="line">    <span class="keyword">var</span> age:<span class="built_in">Int</span> = age</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>懒加载，在使用之前必须初始化</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher</span>&#123;</span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> name: String</span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> age:Integer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-对象的创建"><a href="#2-对象的创建" class="headerlink" title="2.对象的创建"></a>2.对象的创建</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> s1 = Student(<span class="string">&quot;Jerry&quot;</span>,<span class="number">44</span>);</span><br><span class="line">println(s1.age)</span><br><span class="line">println(s1.name)</span><br><span class="line"></span><br><span class="line">s1.name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line">println(s1.name)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>constructor</p>
<p>当类有主构造函数是，其他次要构造函数都要调用主构造函数</p>
<p>主构造函数可以省略constructor不写</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">                <span class="comment">//主构造函数</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student1</span>(<span class="keyword">var</span> name:String,<span class="keyword">var</span> age:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="comment">//次要构造函数</span></span><br><span class="line">    <span class="keyword">constructor</span>(name:String):<span class="keyword">this</span>(name,<span class="number">90</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student1</span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name:String)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-对象的初始化"><a href="#3-对象的初始化" class="headerlink" title="3.对象的初始化"></a>3.对象的初始化</h3><blockquote>
<p>在创建对象时会执行init里的代码</p>
<p>可以写多个init  相当于主构造函数的函数体</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Teacher1</span>(<span class="keyword">var</span> name:String,<span class="keyword">var</span> age:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        println(<span class="string">&quot;创建成功&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-基本数据类型常用方法"><a href="#4-基本数据类型常用方法" class="headerlink" title="4.基本数据类型常用方法"></a>4.基本数据类型常用方法</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> v1:String = <span class="string">&quot;10&quot;</span></span><br><span class="line">println(v1.toInt())</span><br><span class="line"><span class="keyword">val</span> v2:String = <span class="string">&quot;samll&quot;</span></span><br><span class="line">println(v2.uppercase())</span><br><span class="line"><span class="keyword">val</span> v3:String = <span class="string">&quot;BIG&quot;</span></span><br><span class="line">println(v3.lowercase())</span><br><span class="line"><span class="keyword">val</span> v4:String = <span class="string">&quot;how are you&quot;</span></span><br><span class="line">println(v4.replace(<span class="string">&#x27;o&#x27;</span>,<span class="string">&#x27;m&#x27;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取长度(字符串)</span></span><br><span class="line">println(v4.length)</span><br></pre></td></tr></table></figure>

<h3 id="5-运算符重载"><a href="#5-运算符重载" class="headerlink" title="5.运算符重载"></a>5.运算符重载</h3><blockquote>
<p>重载二元运算符 +</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">constructor</span>(<span class="keyword">var</span> name:String,<span class="keyword">var</span> age:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">plus</span><span class="params">(another:<span class="type">Student</span>)</span></span>:Student&#123;</span><br><span class="line">        <span class="keyword">return</span> Student(<span class="keyword">this</span>.name+another.name,another.age+<span class="keyword">this</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>重载一元运算符 !</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">not</span><span class="params">()</span></span>:Student&#123;</span><br><span class="line">    <span class="keyword">return</span> Student(<span class="keyword">this</span>.name.reversed(),<span class="keyword">this</span>.age)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>+a     a.unaryPlus()</p>
<p>-a      a.unaryMinus()</p>
<p>!a       a.not()</p>
<p>a–      a.dec()</p>
<p>a++    a.inc()</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">inc</span><span class="params">()</span></span>:Student&#123;</span><br><span class="line">    <span class="keyword">return</span> Student(name,age++)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">dec</span><span class="params">()</span></span>:Student&#123;</span><br><span class="line">    <span class="keyword">return</span> Student(<span class="string">&quot;name&quot;</span>,age++)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>a+&#x3D;b    a.plusAssign(b)</p>
<p>a-&#x3D;b   a.minusAssign(b)</p>
<p>a*&#x3D;b   a.timesAssign(b)</p>
<p>a&#x2F;&#x3D;b   a.divAssign(b)</p>
<p>a%&#x3D; b   a.remAssign(b)</p>
</blockquote>
<blockquote>
<p>同时定义+和+&#x3D;可能会产生歧义</p>
</blockquote>
<blockquote>
<p>a&gt;b     a.compareTo(b) &gt;0</p>
<p>a&lt;b	a.compareTo(b) &lt;&#x3D;0</p>
<p>a&gt;&#x3D;b	a.compareTo(b) &gt;0</p>
<p>a&lt;&#x3D;b	a.compareTo(b) &lt;&#x3D;0</p>
</blockquote>
<blockquote>
<p>()  invoke</p>
</blockquote>
<h3 id="6-中缀函数"><a href="#6-中缀函数" class="headerlink" title="6.中缀函数"></a>6.中缀函数</h3><blockquote>
<p>println(10 shl 2)   左移位</p>
<p>调用可以省略点和括号</p>
<p>要求：</p>
<p>1.必须是成员函数</p>
<p>2.只能有一个参数</p>
<p>3，参数不能有默认值</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">constructor</span>(<span class="keyword">var</span> name:String,<span class="keyword">var</span> age:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">plus</span><span class="params">(another:<span class="type">Student</span>)</span></span>:Student&#123;</span><br><span class="line">        <span class="keyword">return</span> Student(<span class="keyword">this</span>.name+another.name,another.age+<span class="keyword">this</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">not</span><span class="params">()</span></span>:Student&#123;</span><br><span class="line">        <span class="keyword">return</span> Student(<span class="keyword">this</span>.name.reversed(),<span class="keyword">this</span>.age)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">inc</span><span class="params">()</span></span>:Student&#123;</span><br><span class="line">        <span class="keyword">return</span> Student(name,age++)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">dec</span><span class="params">()</span></span>:Student&#123;</span><br><span class="line">        <span class="keyword">return</span> Student(<span class="string">&quot;name&quot;</span>,age++)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">infix</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">(string:<span class="type">String</span>)</span></span>:String&#123;</span><br><span class="line">        <span class="keyword">return</span> name+string</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">package</span> demo2</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> stu = Student(<span class="string">&quot;zs&quot;</span>,<span class="number">11</span>)</span><br><span class="line">    println(stu test <span class="string">&quot;hahaha&quot;</span>)</span><br><span class="line">    <span class="comment">//也可以当成普通函数调用</span></span><br><span class="line">    println(stu.test(<span class="string">&quot;hahaha&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-空值和空类型"><a href="#7-空值和空类型" class="headerlink" title="7.空值和空类型"></a>7.空值和空类型</h3><blockquote>
<p>当我们直接给一个变量赋值空null是kotlin在编译阶段就会报错</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// val ss:String = null ---&gt;  XXXX</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>加上?:表明这是一个可空的类型</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> ss:String ?= <span class="literal">null</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>加上!!强制调用</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss!!.getdata()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>安全访问方法</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss?.getdata()</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> s:Student? = <span class="literal">null</span></span><br><span class="line"><span class="keyword">val</span> a = s?.getdata() ?: <span class="string">&quot;hahah&quot;</span></span><br><span class="line">println(a)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>?:		类似与三元运算符 ,当对象为空是会执行?:右边的函数</p>
</blockquote>
<h3 id="8-解构"><a href="#8-解构" class="headerlink" title="8.解构"></a>8.解构</h3><blockquote>
<p>component1即为第一个解构的参数</p>
<p>解构（）里的变量名可随意取</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Car</span>(<span class="keyword">var</span> name:String,<span class="keyword">var</span> price:<span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component1</span><span class="params">()</span></span> = name</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component2</span><span class="params">()</span></span> = price</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> car:Car = Car(<span class="string">&quot;ll&quot;</span>,<span class="number">1000</span>)</span><br><span class="line">    <span class="keyword">val</span> (a,b) = car</span><br><span class="line">    println(a)</span><br><span class="line">    println(b)</span><br><span class="line">    <span class="comment">//如果不需要第一个解构的值</span></span><br><span class="line">    <span class="keyword">val</span> (_,b) = car</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>应用-》在lamda表达式中使用</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> func1:(Car)-&gt;String = &#123; (a,b) -&gt;</span><br><span class="line">           a+b.toString()</span><br><span class="line">      &#125;</span><br><span class="line">println(func1(car))</span><br></pre></td></tr></table></figure>

<h2 id="7-类与继承"><a href="#7-类与继承" class="headerlink" title="7.类与继承"></a>7.类与继承</h2><h3 id="1-权限声明"><a href="#1-权限声明" class="headerlink" title="1.权限声明"></a>1.权限声明</h3><blockquote>
<p>public</p>
<p>private</p>
<p>protected</p>
<p>internal 只能在当前项目内访问，当别人引用我们的项目时，不能使用</p>
</blockquote>
<h3 id="2-类的继承"><a href="#2-类的继承" class="headerlink" title="2.类的继承"></a>2.类的继承</h3><blockquote>
<p>声明继承</p>
<p>被继承的类要要声明open</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Car</span>(<span class="keyword">internal</span> <span class="keyword">var</span> name:String, <span class="keyword">public</span> <span class="keyword">var</span> price:<span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component1</span><span class="params">()</span></span> = name</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component2</span><span class="params">()</span></span> = price</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SuperCar</span>:<span class="type">Car</span>(<span class="string">&quot;1&quot;</span>,<span class="number">1000</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Car</span>(<span class="keyword">internal</span> <span class="keyword">var</span> name:String, <span class="keyword">public</span> <span class="keyword">var</span> price:<span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component1</span><span class="params">()</span></span> = name</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component2</span><span class="params">()</span></span> = price</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SportCar</span>(name:String,price: <span class="built_in">Int</span>):Car(<span class="string">&quot;1&quot;</span>,<span class="number">1000</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当子类未声明主构造函数</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Car</span>(<span class="keyword">internal</span> <span class="keyword">var</span> name:String, <span class="keyword">public</span> <span class="keyword">var</span> price:<span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component1</span><span class="params">()</span></span> = name</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component2</span><span class="params">()</span></span> = price</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SportCar</span>:<span class="type">Car</span>&#123;</span><br><span class="line">    <span class="keyword">constructor</span>(name:String,price: <span class="built_in">Int</span>):<span class="keyword">super</span>(<span class="string">&quot;1&quot;</span>,<span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-方法的重写-覆盖"><a href="#3-方法的重写-覆盖" class="headerlink" title="3.方法的重写(覆盖)"></a>3.方法的重写(覆盖)</h3><blockquote>
<p>可以通过super关键字调用父类的方法</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Car</span>(<span class="keyword">internal</span> <span class="keyword">var</span> name:String, <span class="keyword">public</span> <span class="keyword">var</span> price:<span class="built_in">Int</span>) &#123;</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component1</span><span class="params">()</span></span> = name</span><br><span class="line">    <span class="keyword">operator</span> <span class="function"><span class="keyword">fun</span> <span class="title">component2</span><span class="params">()</span></span> = price</span><br><span class="line">    <span class="keyword">open</span> <span class="function"><span class="keyword">fun</span> <span class="title">run</span><span class="params">(<span class="keyword">data</span>:<span class="type">String</span>)</span></span>&#123;</span><br><span class="line">        println(<span class="keyword">data</span>+<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SuperCar</span>:<span class="type">Car</span>(<span class="string">&quot;1&quot;</span>,<span class="number">1000</span>)&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">run</span><span class="params">(<span class="keyword">data</span>: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.run(<span class="keyword">data</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>重写成员变量</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">Car</span>() &#123;</span><br><span class="line">    <span class="keyword">open</span> <span class="keyword">var</span> name:String = <span class="string">&quot;zs&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">sportcar</span>: <span class="type">Car</span>()&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> name: String = <span class="string">&quot;ls&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-顶层Any类"><a href="#4-顶层Any类" class="headerlink" title="4.顶层Any类"></a>4.顶层Any类</h3><blockquote>
<p>相当于java的Object</p>
<p>&#x3D;&#x3D;&#x3D; 判断是否是同一个引用对象</p>
</blockquote>
<h3 id="5-抽象类"><a href="#5-抽象类" class="headerlink" title="5.抽象类"></a>5.抽象类</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">annimal</span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">var</span> name:String</span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">say</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">cat</span>(<span class="keyword">override</span> <span class="keyword">var</span> name: String) :annimal()&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">say</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;miao&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">annimal</span>&#123;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">var</span> name:String</span><br><span class="line">    <span class="keyword">abstract</span> <span class="function"><span class="keyword">fun</span> <span class="title">say</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">cat</span> :<span class="type">annimal</span>()&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">var</span> name:String = <span class="string">&quot;cat&quot;</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">say</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;miao&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-接口"><a href="#6-接口" class="headerlink" title="6.接口"></a>6.接口</h3><blockquote>
<p>接口的所有成员变量和类方法都是抽象的，因此可以省略abstract不写</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> name:String</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">run1</span><span class="params">()</span></span>:String</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> age:<span class="built_in">Int</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">run2</span><span class="params">()</span></span>:String</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">stu</span>() :A,B&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">val</span> age: <span class="built_in">Int</span> = <span class="number">16</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">val</span> name: String =<span class="string">&quot;NAME&quot;</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">run1</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">run2</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;2&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>接口也可以实现默认方法</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> name:String</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">run1</span><span class="params">()</span></span>:String</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> age:<span class="built_in">Int</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">run2</span><span class="params">()</span></span>:String = <span class="string">&quot;AGE&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">stu</span>() :A,B&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">val</span> age: <span class="built_in">Int</span> = <span class="number">16</span></span><br><span class="line">    <span class="keyword">override</span> <span class="keyword">val</span> name: String =<span class="string">&quot;NAME&quot;</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">run1</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;1&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">run2</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;2&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果继承的两个接口有重复函数可以使用&lt;&gt;消除歧义</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">run</span><span class="params">()</span></span>:String = <span class="string">&quot;NAME&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">run</span><span class="params">()</span></span>:String = <span class="string">&quot;AGE&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">stu</span>() :A,B&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">run</span><span class="params">()</span></span>: String = <span class="keyword">super</span>&lt;A&gt;.run();</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">run</span><span class="params">()</span></span>: String = <span class="keyword">super</span>&lt;B&gt;.run();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-类的扩展"><a href="#7-类的扩展" class="headerlink" title="7.类的扩展"></a>7.类的扩展</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">animal</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        println(<span class="string">&quot;HAHAHA&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> animal.<span class="title">test</span><span class="params">()</span></span> = println(<span class="string">&quot;HELLO&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    animal().test()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>当有重复函数是扩展会失效</p>
</blockquote>
<blockquote>
<p>添加属性，此时field无法使用</p>
<p>类的扩展会受到访问权限的影响</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> animal.NAME: String</span><br><span class="line">    <span class="keyword">get</span>() = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">set</span>(value)&#123;</span><br><span class="line">        println(<span class="string">&quot;SET&quot;</span>)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在扩展的函数中可以直接使用类的成员变量，可以不使用this关键字</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">animal</span>&#123;</span><br><span class="line">    <span class="keyword">val</span> name:String = <span class="string">&quot;JKL&quot;</span> </span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> animal.<span class="title">test</span><span class="params">()</span></span> = &#123; </span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>指定调用的函数</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        println(<span class="string">&quot;Hello&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="keyword">private</span> <span class="keyword">val</span> a:A)&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> A.<span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">        hello()</span><br><span class="line">        <span class="keyword">this</span>.hello()</span><br><span class="line">        <span class="keyword">this</span><span class="symbol">@B</span>.hello()</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">hello</span><span class="params">()</span></span>&#123;</span><br><span class="line">        println(<span class="string">&quot;HELLO&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>将一个扩展函数作为参数传递到一个函数类型变量，在具体操作前要增加类型名称</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> func:String.() -&gt; <span class="built_in">Int</span> = &#123;</span><br><span class="line">        <span class="keyword">this</span>.length</span><br><span class="line">    &#125;</span><br><span class="line">    println(<span class="string">&quot;hahahahhaha&quot;</span>.func())</span><br><span class="line">    println(func(<span class="string">&quot;hello&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="8-范型"><a href="#8-范型" class="headerlink" title="8.范型"></a>8.范型</h2><h3 id="1-范型"><a href="#1-范型" class="headerlink" title="1.范型"></a>1.范型</h3><blockquote>
<p>可以直接接收数值，自动转换类型</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Score</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">var</span> name:T)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> stu = Score(<span class="string">&quot;123&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-官方高阶扩展函数"><a href="#2-官方高阶扩展函数" class="headerlink" title="2.官方高阶扩展函数"></a>2.官方高阶扩展函数</h3><blockquote>
<p>apply      传入一个lambda表达式，也就是我们要如何操作这个对象</p>
</blockquote>
<blockquote>
<p>let   执行一个lamda表达式并将得到的结果作为返回值</p>
<p>also 与apply类似</p>
<p>run 与let类似</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> a:Any = Any()</span><br><span class="line">    a.apply &#123;  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-协变和逆变"><a href="#3-协变和逆变" class="headerlink" title="3.协变和逆变"></a>3.协变和逆变</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Num</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">var</span> name:T)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> v1:Num&lt;<span class="built_in">Int</span>&gt; = Num&lt;<span class="built_in">Int</span>&gt;(<span class="number">1</span>) </span><br><span class="line">    <span class="keyword">val</span> v2:Num&lt;Number&gt; = v1   <span class="comment">//报错</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>虽然Number是Int的父类但是缺类型不匹配</p>
<p>协变   父类接收子类</p>
<p>逆变    子类接收父类</p>
<p>抗变     类型不相关Test&lt;Int&gt;与Test&lt;Number&gt;无关</p>
<p>使用out开启协变，使用in开启逆变</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//协变</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Num</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">var</span> name:T)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> v1:Num&lt;<span class="built_in">Int</span>&gt; = Num&lt;<span class="built_in">Int</span>&gt;(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">val</span> v2:Num&lt;<span class="keyword">out</span> Number&gt; = v1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//逆变</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Num</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">var</span> name:T)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> v1:Num&lt;Any&gt; = Num&lt;Any&gt;(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">val</span> v2:Num&lt;<span class="keyword">in</span> Number&gt; = v1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以使用*来代指任意类型</p>
</blockquote>
<h3 id="4-范型的界限"><a href="#4-范型的界限" class="headerlink" title="4.范型的界限"></a>4.范型的界限</h3><blockquote>
<p>限制范型的类型</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//限制上界为Number</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Num</span>&lt;<span class="type">T : Number</span>&gt;(<span class="keyword">var</span> name:T)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> v1:Num&lt;<span class="built_in">Int</span>&gt; = Num&lt;<span class="built_in">Int</span>&gt;(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">val</span> v2:Num&lt;<span class="keyword">out</span> Number&gt; = v1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Num</span>&lt;<span class="type">T</span>&gt;(<span class="keyword">var</span> name:T)</span><br><span class="line">    <span class="keyword">where</span> T:C,T:D</span><br><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">C</span></span><br><span class="line"><span class="keyword">open</span> <span class="keyword">class</span> <span class="title class_">D</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>也可以直接在类或接口的参数中声明</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Test</span>&lt;<span class="type">out T</span>&gt;&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>:T</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-类型擦除"><a href="#5-类型擦除" class="headerlink" title="5.类型擦除"></a>5.类型擦除</h3><blockquote>
<p>内联函数的类型擦除与普通函数的</p>
<p>reified通过该关键字具化类型</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">inline</span> <span class="function"><span class="keyword">fun</span> <span class="type">&lt;<span class="keyword">reified</span> T&gt;</span> <span class="title">test</span><span class="params">(value:<span class="type">Any</span>)</span></span>:<span class="built_in">Boolean</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value <span class="keyword">is</span> T</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> result = test&lt;String&gt;(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    println(result)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="9-数组"><a href="#9-数组" class="headerlink" title="9.数组"></a>9.数组</h2><h3 id="1-定义和遍历数组"><a href="#1-定义和遍历数组" class="headerlink" title="1.定义和遍历数组"></a>1.定义和遍历数组</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> array:Array&lt;<span class="built_in">Int</span>&gt; = arrayOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>)</span><br><span class="line">    <span class="keyword">for</span> (element <span class="keyword">in</span> array)&#123;</span><br><span class="line">        println(element)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>获取长度 array.size</p>
<p>数组在创建完成后数组容量和元素类型是固定不变的后续无法修改</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> array:Array&lt;<span class="built_in">Int</span>&gt; = arrayOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>,<span class="number">5</span>)</span><br><span class="line">	<span class="comment">//遍历下标和元素</span></span><br><span class="line">    <span class="keyword">for</span> ((index,element) <span class="keyword">in</span> array.withIndex())&#123;</span><br><span class="line">        println(array[index])</span><br><span class="line">        println(index)</span><br><span class="line">        println(element)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>数组的创建和使用</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array.forEach &#123; println(it) &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数为间隔符，第二个参数为开始字符串，第三个为结束字符串</span></span><br><span class="line">println(array.joinToString(<span class="string">&quot;,&quot;</span>,<span class="string">&quot;[&quot;</span>,<span class="string">&quot;]&quot;</span>))</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创造一个长度为5，值都为123的字符串数组</span></span><br><span class="line"><span class="keyword">val</span> array:Array&lt;String&gt; = Array(<span class="number">5</span>)&#123;<span class="string">&quot;1234&quot;</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-数组的操作"><a href="#2-数组的操作" class="headerlink" title="2.数组的操作"></a>2.数组的操作</h3><blockquote>
<p>&#x3D;&#x3D;号判断内容是否相同</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> array1:Array&lt;String&gt; = Array(<span class="number">5</span>)&#123;<span class="string">&quot;1234&quot;</span>&#125;</span><br><span class="line"><span class="keyword">val</span> array2:Array&lt;String&gt; = Array(<span class="number">5</span>)&#123;<span class="string">&quot;1234&quot;</span>&#125;</span><br><span class="line">println(array1.contentEquals(array2))   <span class="comment">//=&gt;true</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>拷贝数组</p>
<p>可以指定参数，为拷贝的数量如果数量大于数组大小会用空填充</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//执行拷贝</span></span><br><span class="line"><span class="keyword">var</span> array3:Array&lt;String&gt; = array2.copyOf()</span><br><span class="line"><span class="comment">//指定拷贝范围</span></span><br><span class="line"><span class="keyword">var</span> array4:Array&lt;String&gt; = array2.copyOfRange(<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>分割数组</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array5:Array&lt;String&gt; = array2.sliceArray(<span class="number">1.</span><span class="number">.3</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>数组可以用加号进行合并</p>
</blockquote>
<blockquote>
<p>判断指定元素在不在数组</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array2.contains(<span class="string">&quot;1234&quot;</span>)</span><br><span class="line"><span class="string">&quot;1234&quot;</span> <span class="keyword">in</span> array2</span><br></pre></td></tr></table></figure>

<blockquote>
<p>快速查找元素在哪一位置</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">array2.indexOf(<span class="string">&quot;1234&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>reversedarray反转数组</p>
<p>sort排序	sortDesc倒排序</p>
</blockquote>
<blockquote>
<p>可以重写一个类的compareTo方法指定排序规则</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>():Comparable&lt;B&gt;&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">compareTo</span><span class="params">(other: <span class="type">B</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> B.age - A.age</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>vararg 可以接收任意个同类型的参数</p>
</blockquote>
<h3 id="3-基本数组类型"><a href="#3-基本数组类型" class="headerlink" title="3.基本数组类型"></a>3.基本数组类型</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Kotlin			Java</span><br><span class="line">ByteArray		byte[]</span><br><span class="line">CharArray		char[]</span><br><span class="line">ShortArray		short[]</span><br><span class="line">IntArray		int[]</span><br><span class="line">LongArray		long[]</span><br><span class="line">DoubleArray		double[]</span><br><span class="line">FloatArray		float[]</span><br><span class="line">BooleanArray	boolean[]</span><br></pre></td></tr></table></figure>

<h3 id="4-List"><a href="#4-List" class="headerlink" title="4.List"></a>4.List</h3><blockquote>
<p>可变的列表，可以插入和删除</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> list:MutableList&lt;String&gt; = mutableListOf(<span class="string">&quot;1&quot;</span>,<span class="string">&quot;2&quot;</span>,<span class="string">&quot;3&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;4&quot;</span>)</span><br><span class="line">    list.add(<span class="number">1</span>,<span class="string">&quot;5&quot;</span>)</span><br><span class="line">    list.remove(<span class="string">&quot;1&quot;</span>)</span><br><span class="line">    list.removeAt(<span class="number">1</span>)</span><br><span class="line">    println(list)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>不可变的列表，无法插入删除</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list1:List&lt;<span class="built_in">Int</span>&gt; = listOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以用{}进行初始化赋值</p>
<p>使用for in 进行遍历</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list2:List&lt;<span class="built_in">Int</span>&gt; = List&lt;<span class="built_in">Int</span>&gt;(<span class="number">3</span>)&#123;<span class="number">10</span>&#125;</span><br><span class="line"><span class="keyword">for</span> (ele <span class="keyword">in</span> list2)&#123;</span><br><span class="line">    println(ele)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-Set"><a href="#5-Set" class="headerlink" title="5.Set"></a>5.Set</h3><blockquote>
<p>没有重复元素，可用于去重</p>
<p>不能在指定位置插入</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="keyword">set</span>:MutableSet&lt;<span class="built_in">Int</span>&gt; = mutableSetOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="comment">//简单的获取元素</span></span><br><span class="line">println(<span class="keyword">set</span>.elementAt(<span class="number">0</span>))</span><br></pre></td></tr></table></figure>

<blockquote>
<p>集合的运算</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//并集</span></span><br><span class="line">println(set1 union  set2)</span><br><span class="line">println(set1 + set2)</span><br><span class="line"><span class="comment">//交集</span></span><br><span class="line">println(set1 intersect set2)</span><br><span class="line"><span class="comment">//差集</span></span><br><span class="line">println(set1 - set2)</span><br><span class="line">println(set1 subtract set2)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>不同类型的set</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> set1:SortedSet&lt;<span class="built_in">Int</span>&gt; = sortedSetOf(<span class="number">9</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">19</span>) <span class="comment">//自动排序</span></span><br><span class="line">println(set1)</span><br><span class="line"><span class="keyword">val</span> set2:HashSet&lt;<span class="built_in">Int</span>&gt; = hashSetOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) <span class="comment">// 无序且不重复</span></span><br><span class="line">println(set2)</span><br></pre></td></tr></table></figure>

<h3 id="6-Map"><a href="#6-Map" class="headerlink" title="6.Map"></a>6.Map</h3><blockquote>
<p>Pair</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> pair:Pair&lt;<span class="built_in">Int</span>,String&gt; = <span class="number">10001</span> to <span class="string">&quot;zs&quot;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>创建Map</p>
<p>map[键]获取值</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> map:MutableMap&lt;<span class="built_in">Int</span>,String&gt; = mutableMapOf(</span><br><span class="line">    <span class="number">1001</span> to <span class="string">&quot;zs&quot;</span>,</span><br><span class="line">    <span class="number">1002</span> to <span class="string">&quot;ls&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取所有的键</span></span><br><span class="line">println(map.keys)</span><br><span class="line"><span class="comment">//获取所有的值</span></span><br><span class="line">println(map.values)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>遍历</p>
<p>for in</p>
<p>for each</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map.forEach&#123;(k,v) -&gt; println(k.toString()+v) &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以直接+&#x3D;添加新键值对</p>
<p>键不能重复，否则数据会被覆盖</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">map.put()</span><br><span class="line">map.putAll()</span><br></pre></td></tr></table></figure>

<h3 id="7-迭代器"><a href="#7-迭代器" class="headerlink" title="7.迭代器"></a>7.迭代器</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> iterator:Iterator&lt;String&gt; = array1.iterator()</span><br><span class="line">println(iterator.next())</span><br><span class="line">println(iterator.next())</span><br><span class="line">println(iterator.next())</span><br><span class="line">println(iterator.next())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>遍历数组</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> iterator:Iterator&lt;String&gt; = array1.iterator()</span><br><span class="line"><span class="keyword">while</span>(iterator.hasNext())&#123;</span><br><span class="line">    println(iterator.next())</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ListIterator可以实现双向遍历</p>
<p>MutableIterable迭代器 可以在遍历的时候进行删除</p>
</blockquote>
<h3 id="8-数组的扩展操作"><a href="#8-数组的扩展操作" class="headerlink" title="8.数组的扩展操作"></a>8.数组的扩展操作</h3><blockquote>
<p>map 类似于js的map对每一个元素进行操作并且返回一个值</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list:MutableList&lt;String&gt; = mutableListOf(<span class="string">&quot;AAA&quot;</span>,<span class="string">&quot;BB&quot;</span>,<span class="string">&quot;DDD&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> list2 : MutableList&lt;<span class="built_in">Int</span>&gt; = list.map &#123; it.length &#125;.toMutableList()</span><br><span class="line">println(list2.joinToString())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>遍历map</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> map:Map&lt;String,<span class="built_in">Int</span>&gt; = mapOf(</span><br><span class="line">    <span class="string">&quot;AAA&quot;</span> to <span class="number">1</span>,</span><br><span class="line">    <span class="string">&quot;BB&quot;</span> to <span class="number">2</span>,</span><br><span class="line">    <span class="string">&quot;CCCC&quot;</span> to <span class="number">3</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">val</span> map1: Map&lt;<span class="built_in">Int</span>, <span class="built_in">Int</span>&gt; = map.mapKeys &#123; it.key.length &#125;</span><br><span class="line"><span class="keyword">val</span> map2 : Map&lt;String,String&gt; = map.mapValues &#123; it.value.toString() &#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>zip </p>
<p>unzip</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> zipmap: List&lt;Pair&lt;String, <span class="built_in">Int</span>&gt;&gt; = list1.zip(list2)</span><br><span class="line">println(zipmap)</span><br><span class="line"><span class="keyword">val</span> pair:Pair&lt;List&lt;String&gt;, List&lt;<span class="built_in">Int</span>&gt;&gt; = zipmap.unzip()</span><br><span class="line">println(pair)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>associate将列表映射为一个map集合</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> associates : Map&lt;String,<span class="built_in">Int</span>&gt; = list1.associate &#123; it to it.length &#125;</span><br><span class="line">println(associates)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>扁平化处理多维数组</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">val</span> array= Array(<span class="number">10</span>, &#123;Array(<span class="number">10</span>)&#123;<span class="number">0</span>&#125;&#125;)</span><br><span class="line"><span class="keyword">val</span> list = List(<span class="number">10</span>,&#123;List(<span class="number">10</span>)&#123;<span class="number">0</span>&#125; &#125;)</span><br><span class="line"><span class="comment">//展平</span></span><br><span class="line">println(array.flatten())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>array.flatMap {  }在遍历的同时映射</p>
</blockquote>
<blockquote>
<p>filter过滤操作</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">list1.filter &#123; it &gt;= <span class="number">10</span> &#125;</span><br><span class="line"><span class="comment">//过滤不为空的元素</span></span><br><span class="line">list1.filterNotNull()</span><br></pre></td></tr></table></figure>



<h2 id="10-序列"><a href="#10-序列" class="headerlink" title="10.序列"></a>10.序列</h2><blockquote>
<p>在使用时才会执行其中的语句</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> sequence:Sequence&lt;<span class="built_in">Int</span>&gt; = generateSequence &#123;</span><br><span class="line">    println(<span class="string">&quot;构造&quot;</span>)</span><br><span class="line">    <span class="number">10</span> <span class="comment">//返回值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">println(sequence.iterator().next())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>普通的list，在执行操作时就会调用函数</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list:List&lt;String&gt; = mutableListOf(<span class="string">&quot;AAA&quot;</span>,<span class="string">&quot;BB&quot;</span>,<span class="string">&quot;CCC&quot;</span>,<span class="string">&quot;dd&quot;</span>,<span class="string">&quot;EEE&quot;</span>,<span class="string">&quot;FF&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> result = list.filter &#123;</span><br><span class="line">    println(<span class="string">&quot;执行1&quot;</span>)</span><br><span class="line">    it.length &gt; <span class="number">2</span></span><br><span class="line">&#125;.map &#123;</span><br><span class="line">    println(<span class="string">&quot;执行2&quot;</span>)</span><br><span class="line">    it.lowercase()</span><br><span class="line">&#125;.take(<span class="number">2</span>)</span><br><span class="line">println(result)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>进行优化，在调用使用的时候才会执行内部</p>
<p>数据量庞大时推荐使用</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> list:List&lt;String&gt; = mutableListOf(<span class="string">&quot;AAA&quot;</span>,<span class="string">&quot;BB&quot;</span>,<span class="string">&quot;CCC&quot;</span>,<span class="string">&quot;dd&quot;</span>,<span class="string">&quot;EEE&quot;</span>,<span class="string">&quot;FF&quot;</span>)</span><br><span class="line"><span class="keyword">val</span> result = list.asSequence().filter &#123;</span><br><span class="line">    println(<span class="string">&quot;执行1&quot;</span>)</span><br><span class="line">    it.length &gt; <span class="number">2</span></span><br><span class="line">&#125;.map &#123;</span><br><span class="line">    println(<span class="string">&quot;执行2&quot;</span>)</span><br><span class="line">    it.lowercase()</span><br><span class="line">&#125;.take(<span class="number">2</span>)</span><br><span class="line">println(result.joinToString())</span><br></pre></td></tr></table></figure>

<h2 id="11-特殊的类型"><a href="#11-特殊的类型" class="headerlink" title="11.特殊的类型"></a>11.特殊的类型</h2><h3 id="1-数据类型"><a href="#1-数据类型" class="headerlink" title="1.数据类型"></a>1.数据类型</h3><blockquote>
<p>本质是class</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">data</span> <span class="keyword">class</span> <span class="title class_">Data</span>(<span class="keyword">val</span> name:String,<span class="keyword">val</span> age:<span class="built_in">Int</span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>加上data关键字后</p>
<p>自动生成.equals()&#x2F;.hashCode()</p>
<p>.toString()</p>
<p>.componentN()</p>
<p>.copy()方法</p>
</blockquote>
<blockquote>
<p>数据类不能是抽象类</p>
<p>主构造函数必须有一个参数</p>
<p>主构造函数变量必须是var或者val</p>
</blockquote>
<blockquote>
<p>编译器只会根据构造函数生成，因此可以将参数移出主构造函数，equals方法就不会考虑到写在主构造函数之外的变量</p>
</blockquote>
<h3 id="2-枚举类型"><a href="#2-枚举类型" class="headerlink" title="2.枚举类型"></a>2.枚举类型</h3><blockquote>
<p>加上enum关键字</p>
<p>枚举类可以重写内部的抽象函数，当继承了一个接口时，可以在每个枚举类中重写，或者在定义枚举类的类中重写</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	println(Status.ERR.code)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">Status</span>(<span class="keyword">var</span> code:String)&#123;</span><br><span class="line">    ERR(<span class="string">&quot;0&quot;</span>),SUCC(<span class="string">&quot;1&quot;</span>),COMP(<span class="string">&quot;2&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>可以定义成员函数</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;   </span><br><span class="line">	<span class="keyword">val</span> status = Status.ERR</span><br><span class="line">    println(status.code)</span><br><span class="line">    println(status.isERR())</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">Status</span>(<span class="keyword">var</span> code:String)&#123;</span><br><span class="line">    ERR(<span class="string">&quot;0&quot;</span>),SUCC(<span class="string">&quot;1&quot;</span>),COMP(<span class="string">&quot;2&quot;</span>); <span class="comment">//使用；进行分隔</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">isERR</span><span class="params">()</span></span> = <span class="keyword">this</span> == ERR</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>定义成员变量</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    println(status.state)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="keyword">class</span> <span class="title class_">Status</span>(<span class="keyword">var</span> code:String)&#123;</span><br><span class="line">    ERR(<span class="string">&quot;0&quot;</span>),SUCC(<span class="string">&quot;1&quot;</span>),COMP(<span class="string">&quot;2&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> state:<span class="built_in">Int</span> = <span class="number">10</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用when</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> message:String = <span class="keyword">when</span>(status)&#123;</span><br><span class="line">    Status.ERR -&gt; <span class="string">&quot;错误&quot;</span></span><br><span class="line">    Status.SUCC -&gt; <span class="string">&quot;成功&quot;</span></span><br><span class="line">    Status.COMP -&gt; <span class="string">&quot;运行&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">println(message)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>entries获取整个枚举类</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> statuslist = Status.entries</span><br><span class="line">println(statuslist.joinToString())</span><br></pre></td></tr></table></figure>

<h2 id="12-匿名类"><a href="#12-匿名类" class="headerlink" title="12.匿名类"></a>12.匿名类</h2><h3 id="1-匿名类"><a href="#1-匿名类" class="headerlink" title="1.匿名类"></a>1.匿名类</h3><blockquote>
<p>使用object关键字声明匿名类，并且可以用变量接收</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> stu = <span class="keyword">object</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>:String&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;123&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> message = stu.test()</span><br><span class="line">    println(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果接口只有一个函数，可以采用简洁写法实现匿名类</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="keyword">interface</span> Krunnerable&#123;</span></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> stu = <span class="keyword">object</span> &#123;</span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>:String&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;123&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> message = stu.test()</span><br><span class="line">    println(message)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">val</span> runnerable = Krunnerable&#123;</span><br><span class="line">        println(<span class="string">&quot;1234&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>单例对象</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">object</span> Run&#123; 通过objext关键字</span><br><span class="line">    <span class="keyword">val</span> name:String = <span class="string">&quot;name&quot;</span></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">toString</span><span class="params">()</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.toString()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> run = Run <span class="comment">//单例对象直接使用类型得到实例化对象</span></span><br><span class="line">    println(run.toString()) <span class="comment">//可以直接使用内部的方法</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-伴生对象"><a href="#2-伴生对象" class="headerlink" title="2.伴生对象"></a>2.伴生对象</h3><blockquote>
<p>companion</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span>(<span class="keyword">val</span> name:String)&#123;</span><br><span class="line">    <span class="comment">//使用companion 关键字定义半生对象</span></span><br><span class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> Cat&#123;</span><br><span class="line">        <span class="keyword">val</span> age:<span class="built_in">Int</span> = <span class="number">90</span></span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">            println(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//可以直接使用外面的类名访问内部的方法</span></span><br><span class="line">    Animal.test()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="13-委托模式"><a href="#13-委托模式" class="headerlink" title="13.委托模式"></a>13.委托模式</h2><blockquote>
<p>使用by关键字</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义接口</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Base</span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//接口实现</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BaseImpl</span>():Base&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">test</span><span class="params">()</span></span> &#123;</span><br><span class="line">        println(<span class="string">&quot;test&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//委托代理</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Work</span>(<span class="keyword">val</span> base:BaseImpl) : Base <span class="keyword">by</span> base <span class="comment">//实现Base接口，但是让base帮忙重写</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="comment">//可以直接使用外面的类名访问内部的方法</span></span><br><span class="line">    <span class="keyword">val</span> work = Work(BaseImpl())</span><br><span class="line">	work.test()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>使用预设代理lazy在调用时赋值</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Exe</span>()&#123;</span><br><span class="line">    <span class="keyword">val</span> per:String <span class="keyword">by</span> lazy &#123; <span class="string">&quot;geren&quot;</span> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> message:String = Exe().per</span><br><span class="line">    println(message)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>属性可以委托属性代理</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Exe1</span>(<span class="keyword">val</span> name:String)&#123;</span><br><span class="line">    <span class="keyword">val</span> per:String <span class="keyword">by</span> ::name</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>设置观察者</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//设置观察者</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Exe2</span>(<span class="keyword">val</span> name:String)&#123;</span><br><span class="line">    <span class="keyword">val</span> per:String <span class="keyword">by</span> Delegates.observable(<span class="string">&quot;初始值&quot;</span>)&#123;</span><br><span class="line">        prop,new,old -&gt; println(<span class="string">&quot;属性值为<span class="subst">$&#123;prop&#125;</span>,新值为<span class="subst">$&#123;new&#125;</span>,旧值为<span class="subst">$&#123;old&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="14-密封对象"><a href="#14-密封对象" class="headerlink" title="14.密封对象"></a>14.密封对象</h2><blockquote>
<p>sealed class A</p>
<p>不能在外部继承使用以及实例化（模块内部）</p>
<p>密封类是可以被继承的，密封类的子类也可以是密封类</p>
</blockquote>
<h2 id="15-异常机制"><a href="#15-异常机制" class="headerlink" title="15.异常机制"></a>15.异常机制</h2><h3 id="1-异常的定义"><a href="#1-异常的定义" class="headerlink" title="1.异常的定义"></a>1.异常的定义</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.ArithmeticException: / by zero</span><br><span class="line">	at demo1.Test5Kt.div(test5.kt:47)</span><br><span class="line">	at demo1.Test5Kt.main(test5.kt:42)</span><br><span class="line">	at demo1.Test5Kt.main(test5.kt)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>自定义Exception</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">myException</span>(<span class="keyword">override</span> <span class="keyword">val</span> message: String?):Exception(message)</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">div</span><span class="params">(x:<span class="type">Int</span>, y:<span class="type">Int</span>)</span></span>:<span class="built_in">Int</span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (y==<span class="number">0</span>) <span class="keyword">throw</span> myException(<span class="string">&quot;div by zero&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> x / y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-捕获异常"><a href="#2-捕获异常" class="headerlink" title="2.捕获异常"></a>2.捕获异常</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> array:MutableList&lt;<span class="built_in">Int</span>&gt; = mutableListOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>)</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    println(array[<span class="number">3</span>])</span><br><span class="line">&#125;<span class="keyword">catch</span> (e:IndexOutOfBoundsException)&#123;</span><br><span class="line">    e.printStackTrace()</span><br><span class="line">&#125;</span><br><span class="line">println(<span class="string">&quot;after&quot;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>多个catch</p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> array:MutableList&lt;<span class="built_in">Int</span>&gt; = mutableListOf(<span class="number">1</span>,<span class="number">2</span>,<span class="number">9</span>)</span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    println(array[<span class="number">3</span>])</span><br><span class="line">&#125;<span class="keyword">catch</span> (e:IndexOutOfBoundsException)&#123;</span><br><span class="line">    e.printStackTrace()</span><br><span class="line">&#125;<span class="keyword">catch</span> (e:Exception)&#123;</span><br><span class="line">    e.printStackTrace()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






        </article>
        <section class="post-near">
            <ul>
                
                    <li>上一篇: <a href="/2025/01/05/Andriod/">Android</a></li>
                
                
                    <li>下一篇: <a href="/2024/11/19/Webpack/">Webpack</a></li>
                
            </ul>
        </section>
        
            <section class="post-tags">
            <a class="-none-link" href="/tags/Android/" rel="tag">Android</a><a class="-none-link" href="/tags/Kotlin/" rel="tag">Kotlin</a>
            </section>
        
    
        <section class="post-author">
        
            <figure class="author-avatar">
                <img src="https://p1.meituan.net/csc/949ad40707d4b4bab7e2ebafbd649aa8211830.jpg" alt="日初" />
            </figure>
        
            <div class="author-info">
                <h4>日初</h4>
                <p>一个什么都学的建模动画编程爱好者</p>
            </div>
        </section>
    
    </div>
</main>

    <footer>
    <div class="buttons">
        <a class="to-top" href="#"></a>
    </div>
    <div class="wrap min">
        <section class="widget">
            <div class="row">
                <div class="col-m-4">
                    <h3 class="title-recent">最新文章：</h3>
                    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2025/03/26/Kafaka/">Kafaka</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/03/18/Compose%20Jetpack/">Jetpack Compose</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/03/15/AJAX/">AJAX</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/02/23/QT/">QT</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/02/22/%E8%A7%A3%E5%86%B3Nginx%E7%AB%AF%E5%8F%A3%E6%97%A0%E6%B3%95%E8%AE%BF%E9%97%AE%E9%97%AE%E9%A2%98/">解决Nginx端口无法访问问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2025/01/05/Andriod/">Android</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-date">时光机：</h3>
                    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/03/">三月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/02/">二月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/01/">一月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/12/">十二月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/11/">十一月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/10/">十月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/09/">九月 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/08/">八月 2024</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-tags">标签云：</h3>
                    <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/CSS/" style="font-size: 20px;">CSS</a> <a href="/tags/Docker/" style="font-size: 20px;">Docker</a> <a href="/tags/Flutter/" style="font-size: 20px;">Flutter</a> <a href="/tags/Game/" style="font-size: 20px;">Game</a> <a href="/tags/Go/" style="font-size: 20px;">Go</a> <a href="/tags/Go-Web/" style="font-size: 20px;">Go Web</a> <a href="/tags/JS/" style="font-size: 20px;">JS</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/Java-Web/" style="font-size: 20px;">Java Web</a> <a href="/tags/Kotlin/" style="font-size: 20px;">Kotlin</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MySql/" style="font-size: 20px;">MySql</a> <a href="/tags/MybatisPlus/" style="font-size: 20px;">MybatisPlus</a> <a href="/tags/Nginx/" style="font-size: 20px;">Nginx</a> <a href="/tags/NodeJs/" style="font-size: 20px;">NodeJs</a> <a href="/tags/QT/" style="font-size: 20px;">QT</a> <a href="/tags/React/" style="font-size: 20px;">React</a> <a href="/tags/Spring-Cloud/" style="font-size: 20px;">Spring Cloud</a> <a href="/tags/UniApp/" style="font-size: 20px;">UniApp</a> <a href="/tags/Unity/" style="font-size: 20px;">Unity</a> <a href="/tags/Vue/" style="font-size: 20px;">Vue</a> <a href="/tags/Webpack/" style="font-size: 20px;">Webpack</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 20px;">前端</a> <a href="/tags/%E8%BF%90%E7%BB%B4/" style="font-size: 20px;">运维</a>
                </div>
            </div>
        </section>
        <section class="sub-footer">
            <p>© 2025 <a href="/">Richu</a>. All Rights Reserved. Theme By <a href="https://github.com/Dreamer-Paul/Hingle" target="_blank" rel="nofollow">Hingle</a>.</p>
        </section>
    </div>
</footer>


<script src="/static/kico.js"></script>
<script src="/static/hingle.js"></script>


<script>var hingle = new Paul_Hingle({"copyright":true,"night":false});</script>

  </body>
</html>
